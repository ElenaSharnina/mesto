(()=>{"use strict";var e={formSelector:".modal__form",inputSelector:".modal__field",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__field_type_error",errorClass:"modal__error_visible"},t=document.querySelector(".profile__edit-button"),n=document.querySelector(".modal__field_type_name"),r=document.querySelector(".modal__field_type_occupation"),o=(document.querySelector(".profile__name"),document.querySelector(".profile__occupation"),document.querySelector(".profile__foto"),document.querySelector(".profile__add-button")),i=document.querySelector(".modal__field_type_card-name"),a=document.querySelector(".modal__field_type_card-link"),l=(document.querySelector(".modal__button_place_profile"),document.querySelector(".modal__button_type_create")),c=document.querySelector(".modal__button_place_edit-avatar"),u=document.querySelector(".profile__avatar"),s=document.querySelector(".modal__field_type_url-avatar");function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._selector=n,this._openModalCard=r}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._selector).content.querySelector(".element").cloneNode(!0)}},{key:"createCard",value:function(){return this._element=this._getTemplate(),this._element.querySelector(".element__image").src=this._link,this._element.querySelector(".element__image").alt=this._name,this._element.querySelector(".element__name").textContent=this._name,this._setEventListeners(),this._element}},{key:"_likeElement",value:function(){this._element.querySelector(".element__like").classList.toggle("element__like_active")}},{key:"_deleteElement",value:function(){this._element.remove(),this._element=null}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".element__like").addEventListener("click",(function(){e._likeElement()})),this._element.querySelector(".element__delete").addEventListener("click",(function(){e._deleteElement()})),this._element.querySelector(".element__image").addEventListener("click",(function(){e._openModalCard(e._name,e._link)}))}}])&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(){function e(t,n){var r=this,o=t.inputSelector,i=t.submitButtonSelector,a=t.inactiveButtonClass,l=t.inputErrorClass,c=t.errorClass;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_(this,"_hideInputError",(function(e){var t=r._form.querySelector(".".concat(e.id,"-error"));e.classList.remove(r._inputErrorClass),t.classList.remove(r._errorClass),t.textContent=""})),_(this,"_toggleButtonState",(function(){var e=r._form.querySelector(r._submitButtonSelector);r._inputList.some((function(e){return!e.validity.valid}))?(e.setAttribute("disabled",!0),e.classList.add(r._inactiveButtonClass)):(e.removeAttribute("disabled"),e.classList.remove(r._inactiveButtonClass))})),_(this,"_checkInputValidity",(function(e){e.validity.valid?r._hideInputError(e):r._showInputError(e,e.validationMessage)})),_(this,"_setEventListeners",(function(){r._inputList.forEach((function(e){e.addEventListener("input",(function(){r._checkInputValidity(e),r._toggleButtonState()}))})),r._toggleButtonState()})),_(this,"enableValidation",(function(){r._form.addEventListener("submit",(function(e){e.preventDefault()})),r._setEventListeners()})),this._inputSelector=o,this._submitButtonSelector=i,this._inactiveButtonClass=a,this._inputErrorClass=l,this._errorClass=c,this._form=document.querySelector(n),this._inputList=Array.from(this._form.querySelectorAll(this._inputSelector))}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e,t){var n=this._form.querySelector(".".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),n.textContent=t,n.classList.add(this._errorClass)}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._initialArray=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._initialArray.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),b(this,"_closeModalByESC",(function(e){"Escape"===e.key&&n.close()})),b(this,"_closeModalByOverlay",(function(e){e.target.classList.contains("modal")&&n.close()})),this._popup=document.querySelector(t),this._closeBtn=this._popup.querySelector(".modal__close-icon")}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("modal_active"),document.body.classList.add("page-js"),this.setEventListeners()}},{key:"close",value:function(){this._popup.classList.remove("modal_active"),document.body.classList.remove("page-js"),this.removeEventListener()}},{key:"setEventListeners",value:function(){var e=this;this._closeBtn.addEventListener("click",(function(){e.close()})),document.addEventListener("click",this._closeModalByOverlay),document.addEventListener("keydown",this._closeModalByESC)}},{key:"removeEventListener",value:function(){document.removeEventListener("keydown",this._closeModalByESC)}}])&&h(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=E(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},k.apply(this,arguments)}function E(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}function L(e,t){return L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},L(e,t)}function O(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=j(r);if(o){var n=j(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._popupImage=t._popup.querySelector(".modal-card__image"),t._popupLabel=t._popup.querySelector(".modal-card__label"),t}return t=a,(n=[{key:"open",value:function(e,t){k(j(a.prototype),"open",this).call(this),this._popupImage.src=t,this._popupLabel.textContent=e}}])&&w(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(S);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(){return I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=B(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},I.apply(this,arguments)}function B(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}function R(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return T(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=A(r);if(o){var n=A(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return R(this,e)});function a(e,t){var n,r,o,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),l=function(){n._handleFormSubmit(n._getInputValues()),n.close()},(o="_handleSubmit")in(r=T(n=i.call(this,e)))?Object.defineProperty(r,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[o]=l,n._handleFormSubmit=t,n._form=n._popup.querySelector(".modal__form"),n._inputList=n._form.querySelectorAll(".modal__field"),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e={};return this._inputList.forEach((function(t){e.name=t.value})),e}},{key:"setEventListeners",value:function(){I(A(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",this._handleSubmit)}},{key:"removeEventListener",value:function(){I(A(a.prototype),"removeEventListener",this).call(this),this._form.removeEventListener("submit",this._handleSubmit)}},{key:"close",value:function(){I(A(a.prototype),"close",this).call(this),this._form.reset(),this.removeEventListener()}}])&&P(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(S);function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var N=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=document.querySelector(t),this._userInfo=document.querySelector(n)}var t,n;return t=e,n=[{key:"getUserInfo",value:function(){return{userName:this._userName.textContent,userInfo:this._userInfo.textContent}}},{key:"setUserInfo",value:function(e,t){this._userName.textContent=e.value,this._userInfo.textContent=t.value}}],n&&V(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),D=new y(e,".modal__form_place_regform"),U=new y(e,".modal__form_place_modalpic"),F=new y(e,".modal__form_place_edit-avatar");function z(e){return new p(e,"#element",K).createCard()}U.enableValidation(),D.enableValidation(),F.enableValidation();var G=new v({items:[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],renderer:function(e){var t=z(e);G.addItem(t)}},".elements");G.renderItems();var H=new M(".modalpic",(function(){var e={name:i.value,link:a.value};G.addItem(z(e)),l.setAttribute("disabled",!0),l.classList.add("modal__button_disabled")})),J=new q(".modal-card");function K(e,t){this.src=t,this.textContent=e,J.open(e,t)}J.setEventListeners();var Q=new M(".modal-edit",(function(){W.setUserInfo(n,r)})),W=new N(".profile__name",".profile__occupation"),X=new M(".modal-edid-avatar",(function(){document.querySelector(".profile__foto").src=s.value,c.setAttribute("disabled",!0),c.classList.add("modal__button_disabled")}));t.addEventListener("click",(function(){return n.value=W.getUserInfo().userName,r.value=W.getUserInfo().userInfo,void Q.open()})),o.addEventListener("click",(function(){H.open()})),u.addEventListener("click",(function(){X.open()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQW1CLElBQUk5QixFQUFjLGVBSTNDLFdBQ0UrQixFQUFZQyxZQUFZMUgsRUFBV0MsTUFIL0J3SCxFQUFjLElBQUl0QixFQUFTLGlCQUFrQix3QkFnQjdDd0IsRUFBa0IsSUFBSWpDLEVBQWMsc0JBSzFDLFdBQ0U1RixTQUFTQyxjQUFjLGtCQUFrQnlCLElBQU1oQixFQUFZd0YsTUFDM0QxRixFQUFnQjBDLGFBQWEsWUFBWSxHQUN6QzFDLEVBQWdCc0IsVUFBVXFCLElBQUksNkJBS2hDcEQsRUFBV2tDLGlCQUFpQixTQUFTLGtCQXJCbkMvQixFQUFVZ0csTUFBUXlCLEVBQVlHLGNBQWNwQixTQUM1Q3ZHLEVBQVMrRixNQUFReUIsRUFBWUcsY0FBY25CLGNBRTNDZSxFQUFpQkQsVUFvQm5CckgsRUFBVTZCLGlCQUFpQixTQUFTLFdBOUNsQ3FGLEVBQWNHLFVBZ0RoQmhILEVBQWtCd0IsaUJBQWlCLFNBQVMsV0FkMUM0RixFQUFnQkosVyIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICAgIHtcclxuICAgICAgICBuYW1lOiAn0JDRgNGF0YvQtycsXHJcbiAgICAgICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9hcmtoeXouanBnJ1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBuYW1lOiAn0KfQtdC70Y/QsdC40L3RgdC60LDRjyDQvtCx0LvQsNGB0YLRjCcsXHJcbiAgICAgICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9jaGVseWFiaW5zay1vYmxhc3QuanBnJ1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBuYW1lOiAn0JjQstCw0L3QvtCy0L4nLFxyXG4gICAgICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvaXZhbm92by5qcGcnXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIG5hbWU6ICfQmtCw0LzRh9Cw0YLQutCwJyxcclxuICAgICAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2thbWNoYXRrYS5qcGcnXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIG5hbWU6ICfQpdC+0LvQvNC+0LPQvtGA0YHQutC40Lkg0YDQsNC50L7QvScsXHJcbiAgICAgICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9raG9sbW9nb3Jza3ktcmF5b24uanBnJ1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBuYW1lOiAn0JHQsNC50LrQsNC7JyxcclxuICAgICAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2JhaWthbC5qcGcnXHJcbiAgICB9XHJcbl07XHJcbmV4cG9ydCBjb25zdCBvYmpDb25maWcgPSB7XHJcbiAgICBmb3JtU2VsZWN0b3I6ICcubW9kYWxfX2Zvcm0nLFxyXG4gICAgaW5wdXRTZWxlY3RvcjogJy5tb2RhbF9fZmllbGQnLFxyXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcubW9kYWxfX2J1dHRvbicsXHJcbiAgICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAnbW9kYWxfX2J1dHRvbl9kaXNhYmxlZCcsXHJcbiAgICBpbnB1dEVycm9yQ2xhc3M6ICdtb2RhbF9fZmllbGRfdHlwZV9lcnJvcicsXHJcbiAgICBlcnJvckNsYXNzOiAnbW9kYWxfX2Vycm9yX3Zpc2libGUnXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBidXR0b25FZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XHJcblxyXG5leHBvcnQgY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19maWVsZF90eXBlX25hbWUnKTtcclxuZXhwb3J0IGNvbnN0IGpvYklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19maWVsZF90eXBlX29jY3VwYXRpb24nKTtcclxuZXhwb3J0IGNvbnN0IHVzZXJuYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX25hbWUnKTtcclxuZXhwb3J0IGNvbnN0IHVzZXJqb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fb2NjdXBhdGlvbicpO1xyXG5leHBvcnQgY29uc3QgdXNlckF2YXJhdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19mb3RvJyk7XHJcbmV4cG9ydCBjb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHBpY05hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2ZpZWxkX3R5cGVfY2FyZC1uYW1lJyk7XHJcbmV4cG9ydCBjb25zdCBwaWNMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19maWVsZF90eXBlX2NhcmQtbGluaycpO1xyXG5leHBvcnQgY29uc3QgYnRuU3VibWl0UHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fYnV0dG9uX3BsYWNlX3Byb2ZpbGUnKTtcclxuZXhwb3J0IGNvbnN0IGJ0blN1Ym1pdEFkZENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2J1dHRvbl90eXBlX2NyZWF0ZScpO1xyXG5leHBvcnQgY29uc3QgYnRuU3VibWl0QXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19idXR0b25fcGxhY2VfZWRpdC1hdmF0YXInKTtcclxuZXhwb3J0IGNvbnN0IGVsZW1lbnRFZGl0QXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhcicpO1xyXG5leHBvcnQgY29uc3QgYXZhdGFySW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2ZpZWxkX3R5cGVfdXJsLWF2YXRhcicpOyIsIlxyXG5leHBvcnQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoaXRlbSwgc2VsZWN0b3IsIGhhbmRsZUNhcmRDbGljaykge1xyXG4gICAgdGhpcy5fbmFtZSA9IGl0ZW0ubmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBpdGVtLmxpbms7XHJcbiAgICB0aGlzLl9zZWxlY3RvciA9IHNlbGVjdG9yO1xyXG4gICAgdGhpcy5fb3Blbk1vZGFsQ2FyZCA9IGhhbmRsZUNhcmRDbGljaztcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHsgICAgICAgICAgICAgIC8v0LLQvtC30LLRgNCw0YnQsNC10Lwg0YDQsNC30LzQtdGC0LrRg1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9zZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50JylcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBjcmVhdGVDYXJkKCkgeyAgICAgICAgICAgICAvL9C00L7QsdCw0LLQu9GP0LXQvCDQsiDRgNCw0LfQvNC10YLQutGDINC90LDQt9Cy0LDQvdC40LUg0Lgg0LrQsNGA0YLQuNC90LrRg1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19pbWFnZScpLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19pbWFnZScpLmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19uYW1lJykudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG5cclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfbGlrZUVsZW1lbnQoKSB7ICAgICAgICAgICAgLy9saWtlINC60LDRgNGC0L7Rh9C60LhcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UnKS5jbGFzc0xpc3QudG9nZ2xlKCdlbGVtZW50X19saWtlX2FjdGl2ZScpO1xyXG4gIH1cclxuXHJcbiAgX2RlbGV0ZUVsZW1lbnQoKSB7ICAgICAgICAvL9GD0LTQsNC70LXQvdC40LUg0LrQsNGA0YLQvtGH0LrQuFxyXG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkgeyAvL9C00L7QsdCw0LLQu9GP0LXQvCDRgdC70YPRiNCw0YLQtdC70Lgg0L3QsCDQu9Cw0LnQuiDQuCDRg9C00LDQu9C10L3QuNC1INC60LDRgNGC0L7Rh9C60LhcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5fbGlrZUVsZW1lbnQoKVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fZGVsZXRlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2RlbGV0ZUVsZW1lbnQoKVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9faW1hZ2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsgLy8g0YHQu9GD0YjQsNGC0LXQu9GMINC90LAg0L7RgtC60YDRi9GC0LjQtSDQutCw0YDRgtC+0YfQutC4INCyINC80L7QtNCw0LvRjNC90L7QvCDQvtC60L3QtVxyXG4gICAgICB0aGlzLl9vcGVuTW9kYWxDYXJkKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspXHJcbiAgICB9KTtcclxuICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoeyBpbnB1dFNlbGVjdG9yLCBzdWJtaXRCdXR0b25TZWxlY3RvciwgaW5hY3RpdmVCdXR0b25DbGFzcywgaW5wdXRFcnJvckNsYXNzLCBlcnJvckNsYXNzIH0sIGZvcm0pIHtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBpbnB1dFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBpbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9mb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihmb3JtKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpKTtcclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfTtcclxuXHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XHJcbiAgfTtcclxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlID0gKCkgPT4ge1xyXG4gICAgY29uc3QgYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICBjb25zdCBoYXNJbnZhbGlkSW5wdXQgPSB0aGlzLl9pbnB1dExpc3Quc29tZShpbnB1dEVsZW1lbnQgPT4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCk7XHJcbiAgICBpZiAoaGFzSW52YWxpZElucHV0KSB7XHJcbiAgICAgIGJ1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xyXG4gICAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBidXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkgPSAoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcclxuXHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICB9O1xyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH07XHJcblxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5faW5pdGlhbEFycmF5ID0gaXRlbXM7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIHRoaXMuX2luaXRpYWxBcnJheS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oY2FyZEVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGNhcmRFbGVtZW50KTtcclxuICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Nsb3NlQnRuID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLm1vZGFsX19jbG9zZS1pY29uJyk7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkgeyAvL9C+0YLQutGA0YvRgtC40LUg0LzQvtC00LDQu9GM0L3QvtCz0L4g0L7QutC90LBcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ21vZGFsX2FjdGl2ZScpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdwYWdlLWpzJyk7XHJcblxyXG4gICAgdGhpcy5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7IC8v0LfQsNC60YDRi9GC0LjQtSDQvNC+0LTQsNC70YzQvdC+0LPQviDQvtC60L3QsFxyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWxfYWN0aXZlJyk7XHJcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3BhZ2UtanMnKTtcclxuXHJcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoKTtcclxuICB9XHJcblxyXG4gIF9jbG9zZU1vZGFsQnlFU0MgPSAoZXZ0KSA9PiB7IC8vINC30LDQutGA0YvRgtC40LUg0L/QviBFU0NcclxuICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIF9jbG9zZU1vZGFsQnlPdmVybGF5ID0gKGV2dCkgPT4geyAvLyDQt9Cw0LrRgNGL0YLQuNC1INC/0L4g0LrQu9C40LrRgyDQv9C+INC+0LLQtdGA0LvQtdGOXHJcbiAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ21vZGFsJykpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2Nsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9jbG9zZU1vZGFsQnlPdmVybGF5KTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9jbG9zZU1vZGFsQnlFU0MpO1xyXG4gIH1cclxuICByZW1vdmVFdmVudExpc3RlbmVyKCkge1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2Nsb3NlTW9kYWxCeUVTQyk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuXHRjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcblx0XHRzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuXHRcdHRoaXMuX3BvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtY2FyZF9faW1hZ2UnKTtcclxuXHRcdHRoaXMuX3BvcHVwTGFiZWwgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtY2FyZF9fbGFiZWwnKTtcclxuXHR9XHJcblx0b3BlbihuYW1lLCBsaW5rKSB7XHJcblx0XHRzdXBlci5vcGVuKCk7XHJcblx0XHR0aGlzLl9wb3B1cEltYWdlLnNyYyA9IGxpbms7XHJcblx0XHR0aGlzLl9wb3B1cExhYmVsLnRleHRDb250ZW50ID0gbmFtZTtcclxuXHR9XHJcbn0iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gJy4vUG9wdXAuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2Zvcm0nKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnLm1vZGFsX19maWVsZCcpO1xyXG4gIH1cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCB2YWx1ZXNPYmogPSB7fTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICB2YWx1ZXNPYmoubmFtZSA9IGlucHV0LnZhbHVlXHJcbiAgICB9KTtcclxuICAgIHJldHVybiB2YWx1ZXNPYmo7XHJcblxyXG4gIH1cclxuICBfaGFuZGxlU3VibWl0ID0gKCkgPT4geyAvLyDRg9GB0YLRgNCw0L3Rj9C10Lwg0LHQsNCzINGBINC/0YPRgdGC0YvQvNC4INGB0LDQsdC80LjRgtCw0LzQuCwg0YPQtNCw0LvRj9GPINCy0YHQtSDRgdC70YPRiNCw0YLQtdC70Lgg0L3QsCDQt9Cw0LrRgNGL0YLQuNC4XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgdGhpcy5jbG9zZSgpO1xyXG4gIH1cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX2hhbmRsZVN1Ym1pdCk7XHJcbiAgfVxyXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXIoKSB7XHJcbiAgICBzdXBlci5yZW1vdmVFdmVudExpc3RlbmVyKCk7XHJcbiAgICB0aGlzLl9mb3JtLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX2hhbmRsZVN1Ym1pdCk7XHJcbiAgfVxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigpO1xyXG4gIH1cclxufSIsImV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IodXNlck5hbWVTZWxlY3RvciwgdXNlckluZm9TZWxlY3RvcikgeyAgLy8g0LIg0LHRgNC40YTQtSDRgdC10LvQtdC60YLQvtGA0YshXHJcbiAgICB0aGlzLl91c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlck5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl91c2VySW5mbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckluZm9TZWxlY3Rvcik7XHJcblxyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICBjb25zdCB1c2VyVmFsdWVzID0ge1xyXG4gICAgICB1c2VyTmFtZTogdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIHVzZXJJbmZvOiB0aGlzLl91c2VySW5mby50ZXh0Q29udGVudFxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHVzZXJWYWx1ZXM7XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyhuYW1lSW5wdXQsIGpvYklucHV0KSB7XHJcbiAgICB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCA9IG5hbWVJbnB1dC52YWx1ZTtcclxuICAgIHRoaXMuX3VzZXJJbmZvLnRleHRDb250ZW50ID0gam9iSW5wdXQudmFsdWU7XHJcblxyXG4gIH1cclxuXHJcbn0iLCJpbXBvcnQge1xyXG4gIGluaXRpYWxDYXJkcyxcclxuICBvYmpDb25maWcsXHJcbiAgYnV0dG9uRWRpdCxcclxuICBuYW1lSW5wdXQsXHJcbiAgam9iSW5wdXQsXHJcbiAgYXZhdGFySW5wdXQsXHJcbiAgdXNlcm5hbWUsXHJcbiAgdXNlcmpvYixcclxuICBhZGRCdXR0b24sXHJcbiAgcGljTmFtZSxcclxuICBwaWNMaW5rLFxyXG4gIGJ0blN1Ym1pdEFkZENhcmQsXHJcbiAgYnRuU3VibWl0QXZhdGFyLFxyXG4gIGVsZW1lbnRFZGl0QXZhdGFyXHJcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcclxuaW1wb3J0IHsgQ2FyZCB9IGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XHJcbmltcG9ydCB7IEZvcm1WYWxpZGF0b3IgfSBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xyXG5pbXBvcnQgeyBTZWN0aW9uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcclxuaW1wb3J0IHsgUG9wdXBXaXRoSW1hZ2UgfSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcclxuaW1wb3J0IHsgUG9wdXBXaXRoRm9ybSB9IGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XHJcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XHJcbmltcG9ydCAnLi9pbmRleC5jc3MnO1xyXG5cclxuLy8g0LLQutC70Y7Rh9Cw0LXQvCDQstCw0LvQuNC00LDRhtC40Y4g0LrQsNC20LTQvtC5INGE0L7RgNC80LVcclxuXHJcbmNvbnN0IHByb2ZpbGVGb3JtVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKG9iakNvbmZpZywgJy5tb2RhbF9fZm9ybV9wbGFjZV9yZWdmb3JtJyk7XHJcbmNvbnN0IGFkZEltYWdlRm9ybVZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcihvYmpDb25maWcsICcubW9kYWxfX2Zvcm1fcGxhY2VfbW9kYWxwaWMnKTtcclxuY29uc3QgZWRpdEF2YXRhckZvcm5WYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3Iob2JqQ29uZmlnLCAnLm1vZGFsX19mb3JtX3BsYWNlX2VkaXQtYXZhdGFyJyk7XHJcblxyXG5hZGRJbWFnZUZvcm1WYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTtcclxucHJvZmlsZUZvcm1WYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuZWRpdEF2YXRhckZvcm5WYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuLy8g0LLRgdGC0LDQstC70Y/QtdC8INC60LDRgNGC0L7Rh9C60Lgg0LjQtyDQvNCw0YHRgdC40LLQsCDQsiDRgNCw0LfQvNC10YLQutGDXHJcblxyXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGNhcmRJdGVtKSB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGNhcmRJdGVtLCAnI2VsZW1lbnQnLCBvcGVuTW9kYWxDYXJkKTtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuY3JlYXRlQ2FyZCgpO1xyXG4gIHJldHVybiBjYXJkRWxlbWVudDtcclxufTtcclxuXHJcblxyXG5jb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKHtcclxuICBpdGVtczogaW5pdGlhbENhcmRzLFxyXG4gIHJlbmRlcmVyOiAoY2FyZEl0ZW0pID0+IHtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlQ2FyZChjYXJkSXRlbSk7XHJcbiAgICBjYXJkTGlzdC5hZGRJdGVtKGNhcmRFbGVtZW50KTtcclxuICB9XHJcbn0sICcuZWxlbWVudHMnXHJcblxyXG4pO1xyXG5jYXJkTGlzdC5yZW5kZXJJdGVtcygpO1xyXG5cclxuXHJcbmZ1bmN0aW9uIHN1Ym1pdEZvcm1OZXdDYXJkKCkge1xyXG4gIGNvbnN0IHBpY0VsZW1lbnQgPSB7XHJcbiAgICBuYW1lOiBwaWNOYW1lLnZhbHVlLFxyXG4gICAgbGluazogcGljTGluay52YWx1ZVxyXG4gIH1cclxuICBjYXJkTGlzdC5hZGRJdGVtKGNyZWF0ZUNhcmQocGljRWxlbWVudCkpO1xyXG4gIGJ0blN1Ym1pdEFkZENhcmQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpOyAvLyDQutC90L7Qv9C60LAg0L3QtdCw0LrRgtC40LLQvdCwINC/0YDQuCDQvtGC0LrRgNGL0YLQuNC4INC4INC/0YPRgdGC0YvRhSDQv9C+0LvRj9GFXHJcbiAgYnRuU3VibWl0QWRkQ2FyZC5jbGFzc0xpc3QuYWRkKCdtb2RhbF9fYnV0dG9uX2Rpc2FibGVkJyk7XHJcbn1cclxuY29uc3QgcG9wdXBBZGRQaG90byA9IG5ldyBQb3B1cFdpdGhGb3JtKCcubW9kYWxwaWMnLCBzdWJtaXRGb3JtTmV3Q2FyZCk7XHJcblxyXG5mdW5jdGlvbiBvcGVuUG9wdXBBZGRQaG90bygpIHtcclxuICBwb3B1cEFkZFBob3RvLm9wZW4oKTtcclxufVxyXG5cclxuY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJy5tb2RhbC1jYXJkJyk7XHJcbnBvcHVwV2l0aEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5mdW5jdGlvbiBvcGVuTW9kYWxDYXJkKG5hbWUsIGxpbmspIHsgICAgLy/QvtGC0LrRgNGL0YLQuNC1INC60LDRgNGC0L7Rh9C60Lgg0LIg0LzQvtC00LDQu9GM0L3QvtC8INC+0LrQvdC1XHJcbiAgdGhpcy5zcmMgPSBsaW5rO1xyXG4gIHRoaXMudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gIHBvcHVwV2l0aEltYWdlLm9wZW4obmFtZSwgbGluayk7XHJcbn1cclxuXHJcbi8v0YTRg9C90LrRhtC40Y8g0L7RgtC60YDRi9GC0LjRjyDQvNC+0LTQsNC70YzQvdC+0LPQviDQvtC60L3QsCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IHBvcHVwRWRpdFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLm1vZGFsLWVkaXQnLCBzdWJtaXRQcm9maWxlRm9ybSk7XHJcblxyXG5jb25zdCBpbnB1dFZhbHVlcyA9IG5ldyBVc2VySW5mbygnLnByb2ZpbGVfX25hbWUnLCAnLnByb2ZpbGVfX29jY3VwYXRpb24nKTtcclxuXHJcbmZ1bmN0aW9uIHN1Ym1pdFByb2ZpbGVGb3JtKCkge1xyXG4gIGlucHV0VmFsdWVzLnNldFVzZXJJbmZvKG5hbWVJbnB1dCwgam9iSW5wdXQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvcGVuUG9wdXBFZGl0UHJvZmlsZSgpIHtcclxuXHJcbiAgbmFtZUlucHV0LnZhbHVlID0gaW5wdXRWYWx1ZXMuZ2V0VXNlckluZm8oKS51c2VyTmFtZTtcclxuICBqb2JJbnB1dC52YWx1ZSA9IGlucHV0VmFsdWVzLmdldFVzZXJJbmZvKCkudXNlckluZm87XHJcblxyXG4gIHBvcHVwRWRpdFByb2ZpbGUub3BlbigpO1xyXG59XHJcblxyXG4vLyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC1INCw0LLQsNGC0LDRgNCwXHJcblxyXG5jb25zdCBwb3B1cEVkaXRBdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLm1vZGFsLWVkaWQtYXZhdGFyJywgc3VibWl0Rm9ybUF2YXRhcik7XHJcblxyXG5mdW5jdGlvbiBvcGVuUG9wdXBFZGl0QXZhdGFyKCkge1xyXG4gIHBvcHVwRWRpdEF2YXRhci5vcGVuKCk7XHJcbn1cclxuZnVuY3Rpb24gc3VibWl0Rm9ybUF2YXRhcigpIHtcclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZm90bycpLnNyYyA9IGF2YXRhcklucHV0LnZhbHVlO1xyXG4gIGJ0blN1Ym1pdEF2YXRhci5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7IC8vINC60L3QvtC/0LrQsCDQvdC10LDQutGC0LjQstC90LAg0L/RgNC4INC+0YLQutGA0YvRgtC40Lgg0Lgg0L/Rg9GB0YLRi9GFINC/0L7Qu9GP0YVcclxuICBidG5TdWJtaXRBdmF0YXIuY2xhc3NMaXN0LmFkZCgnbW9kYWxfX2J1dHRvbl9kaXNhYmxlZCcpO1xyXG59XHJcblxyXG5cclxuXHJcbmJ1dHRvbkVkaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBvcGVuUG9wdXBFZGl0UHJvZmlsZSgpKTtcclxuXHJcbmFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IG9wZW5Qb3B1cEFkZFBob3RvKCkpO1xyXG5cclxuZWxlbWVudEVkaXRBdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBvcGVuUG9wdXBFZGl0QXZhdGFyKCkpOyJdLCJuYW1lcyI6WyJvYmpDb25maWciLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImJ1dHRvbkVkaXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJuYW1lSW5wdXQiLCJqb2JJbnB1dCIsImFkZEJ1dHRvbiIsInBpY05hbWUiLCJwaWNMaW5rIiwiYnRuU3VibWl0QWRkQ2FyZCIsImJ0blN1Ym1pdEF2YXRhciIsImVsZW1lbnRFZGl0QXZhdGFyIiwiYXZhdGFySW5wdXQiLCJDYXJkIiwiaXRlbSIsInNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwidGhpcyIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9zZWxlY3RvciIsIl9vcGVuTW9kYWxDYXJkIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwic3JjIiwiYWx0IiwidGV4dENvbnRlbnQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJyZW1vdmUiLCJhZGRFdmVudExpc3RlbmVyIiwiX2xpa2VFbGVtZW50IiwiX2RlbGV0ZUVsZW1lbnQiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybSIsImlucHV0RWxlbWVudCIsImVycm9yRWxlbWVudCIsIl9mb3JtIiwiaWQiLCJfaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJidXR0b25FbGVtZW50IiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2lucHV0TGlzdCIsInNvbWUiLCJ2YWxpZGl0eSIsInZhbGlkIiwic2V0QXR0cmlidXRlIiwiYWRkIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJyZW1vdmVBdHRyaWJ1dGUiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImZvckVhY2giLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJfaW5wdXRTZWxlY3RvciIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlcnJvck1lc3NhZ2UiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2luaXRpYWxBcnJheSIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJjYXJkRWxlbWVudCIsInByZXBlbmQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJrZXkiLCJjbG9zZSIsInRhcmdldCIsImNvbnRhaW5zIiwiX3BvcHVwIiwiX2Nsb3NlQnRuIiwiYm9keSIsInNldEV2ZW50TGlzdGVuZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9jbG9zZU1vZGFsQnlPdmVybGF5IiwiX2Nsb3NlTW9kYWxCeUVTQyIsIlBvcHVwV2l0aEltYWdlIiwiX3BvcHVwSW1hZ2UiLCJfcG9wdXBMYWJlbCIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJ2YWx1ZXNPYmoiLCJpbnB1dCIsInZhbHVlIiwiX2hhbmRsZVN1Ym1pdCIsInJlc2V0IiwiVXNlckluZm8iLCJ1c2VyTmFtZVNlbGVjdG9yIiwidXNlckluZm9TZWxlY3RvciIsIl91c2VyTmFtZSIsIl91c2VySW5mbyIsInVzZXJOYW1lIiwidXNlckluZm8iLCJwcm9maWxlRm9ybVZhbGlkYXRpb24iLCJhZGRJbWFnZUZvcm1WYWxpZGF0aW9uIiwiZWRpdEF2YXRhckZvcm5WYWxpZGF0aW9uIiwiY3JlYXRlQ2FyZCIsImNhcmRJdGVtIiwib3Blbk1vZGFsQ2FyZCIsImVuYWJsZVZhbGlkYXRpb24iLCJjYXJkTGlzdCIsImFkZEl0ZW0iLCJyZW5kZXJJdGVtcyIsInBvcHVwQWRkUGhvdG8iLCJwaWNFbGVtZW50IiwicG9wdXBXaXRoSW1hZ2UiLCJvcGVuIiwicG9wdXBFZGl0UHJvZmlsZSIsImlucHV0VmFsdWVzIiwic2V0VXNlckluZm8iLCJwb3B1cEVkaXRBdmF0YXIiLCJnZXRVc2VySW5mbyJdLCJzb3VyY2VSb290IjoiIn0=